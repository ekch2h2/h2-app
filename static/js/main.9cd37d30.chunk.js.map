{"version":3,"sources":["util/theme.js","redux/types.js","redux/reducers/userReducers.js","redux/reducers/dataReducers.js","redux/reducers/uiReducers.js","redux/store.js","util/auth.js","redux/actions/userActions.js","util/MyButton.js","redux/actions/dataActions.js","components/announcement/PostAnnouncement.js","components/layout/Notifications.js","components/layout/Navbar.js","util/AuthRoute.js","components/announcement/EditAnnouncement.js","components/announcement/DeleteAnnouncement.js","components/announcement/ArchiveAnnouncement.js","util/markdown_utils.js","components/announcement/ShareButton.js","components/announcement/Comments.js","components/announcement/CommentForm.js","components/announcement/AnnouncementDialog.js","components/announcement/PinAnnouncement.js","components/announcement/Announcement.js","images/no-img.png","util/AnnouncementSkeleton.js","pages/home.js","images/icon.png","pages/login.js","pages/signup.js","util/ProfileSkeleton.js","components/profile/EditDetails.js","components/profile/Profile.js","pages/user.js","components/calendar/Calendar.js","util/array_utils.js","util/csv_utils.js","pages/calendar.js","App.js","serviceWorker.js","index.js"],"names":["theme","palette","primary","light","main","dark","contrastText","secondary","typography","useNextVariants","rootStyles","form","textAlign","image","margin","pageTitle","textField","button","marginTop","position","customError","color","fontSize","progress","invisibleSeparator","border","visibleSeparator","width","borderBottom","marginBottom","paper","padding","profile","top","left","height","objectFit","maxWidth","borderRadius","verticalAlign","cursor","buttons","closeButton","right","SET_AUTHENTICATED","SET_UNAUTHENTICATED","SET_USER","LOADING_USER","MARK_NOTIFCATIONS_READ","SET_ERRORS","LOADING_DATA","LOADING_UI","CLEAR_ERRORS","STOP_LOADING_UI","SET_ANNOUNCEMENTS","SET_ANNOUNCEMENT","APPEND_IMAGEURL_TO_ANNOUNCEMENT","LIKE_ANNOUNCEMENT","UNLIKE_ANNOUNCEMENT","DELETE_ANNOUNCEMENT","POST_ANNOUNCEMENT","SUBMIT_COMMENT","SET_CALENDAR_EVENTS","initialState","authenticated","credentials","likes","notifications","loading","userReducers","state","action","type","payload","userHandle","handle","announcementId","filter","like","forEach","n","read","announcements","announcement","calendarEvents","reducers","topItems","e","pinToTop","regularItems","body","index","findIndex","ann","deleteIdx","splice","comments","initalState","errors","uiReducers","middleware","thunk","combineReducers","user","userReducer","data","dataReducer","UI","uiReducer","store","createStore","compose","applyMiddleware","window","devToolsExtension","setAuthorizationHeader","token","axios","defaults","headers","common","getUserData","dispatch","get","then","res","catch","err","console","log","response","MyButton","children","onClick","tip","btnClassName","tipClassName","Tooltip","title","placement","className","IconButton","getAnnouncements","map","s","getAnnouncement","clearErrors","PostAnnouncement","open","handleOpen","setState","handleClose","props","handleChange","event","target","name","value","handleSubmit","preventDefault","postAnnouncement","nextProps","nextContext","this","classes","Dialog","onClose","fullWidth","DialogTitle","DialogContent","onSubmit","TextField","label","multiline","placeholder","error","helperText","onChange","rows","rowsMax","Button","variant","submitButton","disabled","CircularProgress","size","progressSpinner","Component","connect","newAnnouncement","post","withStyles","float","Notifications","anchorEl","onMenuOpened","unreadNotificationIds","notificationId","markNotificationsRead","notificationIcon","dayjs","extend","relativeTime","length","unreadCount","Badge","badgeContent","notificationsMarkup","verb","time","createdAt","fromNow","iconColor","icon","style","marginRight","MenuItem","key","Typography","component","Link","to","recipient","sender","aria-owns","undefined","aria-haspopup","Menu","Boolean","onEntered","notificationIds","Navbar","isAnnouncementProvider","calButton","AppBar","Toolbar","rest","render","EditAnnouncement","oldPath","newPath","location","pathname","history","pushState","updateAnnouncement","handleImageChange","files","formData","FormData","append","uploadImageForPost","handleEditPicture","imageButtonRef","current","click","React","createRef","openDialog","dialogMarkup","spinnerDiv","id","hidden","ref","toolButton","expandButton","dialogContent","imageUrl","avatar","marginTo","DeleteAnnouncement","deleteAnnouncement","deleteButton","DialogActions","delete","ArchiveAnnouncement","archiveAnnouncement","archiveButton","isArchived","isListLine","match","markdownTextPreProcess","bodyFinal","prevLine","split","rawLine","line","trim","replace","ShareButton","handleShare","shareData","text","content","url","process","navigator","share","canShare","Comments","Grid","container","userImage","item","sm","Avatar","alt","src","commentData","format","marginLeft","CommentForm","submitComment","AnnouncementDialog","commentCount","avatarContainer","markdownContainer","source","Container","display","overflow","PinAnnouncement","togglePinToTop","pinAnnouncement","Announcement","editButton","pinButton","shareButton","actionsMarkup","ButtonGroup","buttonGroup","userLink","Card","clsx","card","cardPinToTop","CardHeader","subheader","CardContent","CardActions","actions","minWidth","h2","withStyle","cardContent","flexDirection","cover","backgroundColor","date","fullLine","halfLine","Array","from","CardMedia","NoImg","queryString","require","home","parse","search","login","userData","email","password","loginUser","AppIcon","noValidate","general","firebase","auth","signInWithEmailAndPassword","getIdToken","idToken","push","signup","newUserData","confirmPassword","signupUser","Paper","EditDetails","bio","website","mapUserDetailsToState","userDetails","editUserDetails","Profile","uploadImage","handleLogout","logoutUser","href","rel","aligh","signOut","announcementIdParam","params","announcementsMarkup","spacing","xs","now","Date","localizer","momentLocalizer","moment","Calendar","view","Views","WEEK","events","getView","getCalendarData","MONTH","DAY","AGENDA","allViews","views","step","defaultDate","components","eventWrapper","eventWrapperProps","eventTimeMin","Math","floor","end","start","eventWrapperNoLabel","titleAccessor","titleLines","eventContent","onView","min","toDate","calSrc","DATE_RE","rsp","m","eventsRaw","l","p","row","ret","i","r","slice","csvToArray","x","flat","d","exec","eventMo","parseInt","eventDa","eventYr","eventTitle","includes","calendar","substring","v","val","createMuiTheme","themeFile","initializeApp","apiKey","onAuthStateChanged","usr","baseURL","App","basename","exact","path","hostname","ReactDOM","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.9cd37d30.chunk.js","sourcesContent":["const theme = {\n    palette: {\n        primary: {\n            light: '#33c9dc',\n            main: '#00bcd4',\n            dark: '#008394',\n            contrastText: '#fff'\n        },\n        secondary: {\n            light: '#ff6333',\n            main: '#ff3d00',\n            dark: '#b22a00',\n            contrastText: '#fff'\n        }\n    },\n    typography: {\n        useNextVariants: true\n    },\n    rootStyles: {\n        form: {\n            textAlign: 'center'\n        },\n        image: {\n            margin: \"20px auto 20px auto\"\n        },\n        pageTitle: {\n            margin: \"10px auto 10px auto\"\n        },\n        textField: {\n            margin: \"10px auto 10px auto\"\n        },\n        button: {\n            marginTop: 20,\n            position: 'relative'\n        },\n        customError: {\n            color: 'red',\n            fontSize: \"0.8rem\",\n            marginTop: 10\n        },\n        progress: {\n            position: 'absolute'\n        },\n        invisibleSeparator: {\n            border: \"none\",\n            margin: 4\n        },\n        visibleSeparator: {\n            width: \"100%\",\n            borderBottom: \"1px solid rgba(0, 0, 0, 0.1)\",\n            marginBottom: 20\n        },\n        paper: {\n            padding: 20\n        },\n        profile: {\n            '& .image-wrapper': {\n                textAlign: 'center',\n                position: 'relative',\n                '& button': {\n                    position: 'absolute',\n                    top: '80%',\n                    left: '70%'\n                }\n            },\n            '& .profile-image': {\n                width: 200,\n                height: 200,\n                objectFit: 'cover',\n                maxWidth: '100%',\n                borderRadius: '50%'\n            },\n            '& .profile-details': {\n                textAlign: 'center',\n                '& span, svg': {\n                    verticalAlign: 'middle'\n                },\n                '& a': {\n                    color: '#00bcd4'\n                }\n            },\n            '& hr': {\n                border: 'none',\n                margin: '0 0 10px 0'\n            },\n            '& svg.button': {\n                '&:hover': {\n                    cursor: 'pointer'\n                }\n            }\n        },\n        buttons: {\n            textAlign: 'center',\n            '& a': {\n                margin: '20px 10px'\n            }\n        },\n        closeButton: {\n            position: \"absolute\",\n            right: \"0.2rem\",\n            top: \"0.4rem\"\n        }\n    }\n};\n\nexport default theme;","// User reducer types\nexport const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\nexport const SET_USER = \"SET_USER\";\nexport const LOADING_USER = \"LOADING_USER\";\nexport const MARK_NOTIFCATIONS_READ = \"MARK_NOTIFCATIONS_READ\";\n// UI reducer types\nexport const SET_ERRORS = \"SET_ERRORS\";\nexport const LOADING_DATA = \"LOADING_DATA\";\nexport const LOADING_UI = \"LOADING_UI\";\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\nexport const STOP_LOADING_UI = \"STOP_LOADING_UI\";\n// Data reducer types\nexport const SET_ANNOUNCEMENTS = \"SET_ANNOUNCEMENTS\";\nexport const SET_ANNOUNCEMENT = \"SET_ANNOUNCEMENT\";\nexport const APPEND_IMAGEURL_TO_ANNOUNCEMENT = \"APPEND_IMAGEURL_TO_ANNOUNCEMENT\";\nexport const LIKE_ANNOUNCEMENT = \"LIKE_ANNOUNCEMENT\";\nexport const UNLIKE_ANNOUNCEMENT = \"UNLIKE_ANNOUNCEMENT\";\nexport const DELETE_ANNOUNCEMENT = \"DELETE_ANNOUNCEMENT\";\nexport const POST_ANNOUNCEMENT = \"POST_ANNOUNCEMENT\";\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\";\nexport const SET_CALENDAR_EVENTS = \"SET_CALENDAR_EVENTS\";","import {\n    SET_USER,\n    LOADING_USER,\n    SET_AUTHENTICATED,\n    SET_UNAUTHENTICATED,\n    LIKE_ANNOUNCEMENT,\n    UNLIKE_ANNOUNCEMENT,\n    MARK_NOTIFCATIONS_READ\n} from \"../types\";\n\nconst initialState = {\n    authenticated: false,\n    credentials: {},\n    likes: [],\n    notifications: [],\n    loading: false\n};\n\nconst userReducers = function(state = initialState, action) {\n    switch (action.type) {\n        case SET_AUTHENTICATED:\n            return {\n                ...state,\n                authenticated: true\n            };\n        case SET_UNAUTHENTICATED:\n            return initialState;\n        case SET_USER:\n            return {\n                loading: false,\n                authenticated: true,\n                ...action.payload\n            };\n        case LOADING_USER:\n            return {\n                ...state,\n                loading: true\n            };\n        case LIKE_ANNOUNCEMENT:\n            return {\n                ...state,\n                likes: [\n                    ...state.likes,\n                    {\n                        userHandle: state.credentials.handle,\n                        announcementId: action.payload.announcementId\n                    }\n                ]\n            };\n        case UNLIKE_ANNOUNCEMENT:\n            return {\n                ...state,\n                likes: state.likes.filter(like => like.announcementId !== action.payload.announcementId)\n            };\n        case MARK_NOTIFCATIONS_READ:\n            state.notifications.forEach(n => n.read = true);\n            return {...state};\n        default:\n            return state\n    }\n}\n\nexport default userReducers;","import {\n    SET_ANNOUNCEMENTS,\n    LIKE_ANNOUNCEMENT,\n    UNLIKE_ANNOUNCEMENT,\n    LOADING_DATA,\n    DELETE_ANNOUNCEMENT,\n    POST_ANNOUNCEMENT,\n    SET_ANNOUNCEMENT,\n    SUBMIT_COMMENT, APPEND_IMAGEURL_TO_ANNOUNCEMENT, SET_CALENDAR_EVENTS\n} from \"../types\";\n\nconst initialState = {\n    announcements: [],\n    announcement: {},\n    loading: false,\n    calendarEvents: []\n};\n\nconst reducers = function(state = initialState, action) {\n    switch (action.type) {\n        case LOADING_DATA:\n            return {\n                ...state,\n                loading: true\n            };\n        case SET_ANNOUNCEMENTS:\n            const topItems = action.payload.filter(e => !!e.pinToTop);\n            const regularItems = action.payload.filter(e => !e.pinToTop);\n\n            return {\n                ...state,\n                announcements: [\n                    ...topItems,\n                    ...regularItems\n                ],\n                loading: false\n            };\n        case SET_ANNOUNCEMENT:\n            return {\n                ...state,\n                announcement: action.payload\n            };\n        case APPEND_IMAGEURL_TO_ANNOUNCEMENT:\n            return {\n                ...state,\n                announcement: {\n                    ...state.announcement,\n                    body: `${state.announcement.body}\\n\\n![](${action.payload})`\n                }\n            };\n        case LIKE_ANNOUNCEMENT:\n        case UNLIKE_ANNOUNCEMENT:\n            let index = state.announcements\n                .findIndex((ann) => ann.announcementId === action.payload.announcementId);\n            state.announcements[index] = action.payload;\n            if(state.announcement.announcementId === action.payload.announcementId) {\n                state.announcement = {\n                    ...state.announcement,\n                    ...action.payload\n                }\n            }\n            return {\n                ...state\n            };\n        case DELETE_ANNOUNCEMENT:\n            let deleteIdx = state.announcements.findIndex(ann => ann.announcementId === action.payload);\n            state.announcements.splice(deleteIdx, 1);\n            return {\n                ...state\n            };\n        case POST_ANNOUNCEMENT:\n            return {\n                ...state,\n                announcements: [\n                    action.payload,\n                    ...state.announcements\n                ]\n            };\n        case SUBMIT_COMMENT:\n            return {\n                ...state,\n                announcement: {\n                    ...state.announcement,\n                    comments: [\n                        action.payload,\n                        ...state.announcement.comments\n                    ]\n                }\n            };\n        case SET_CALENDAR_EVENTS:\n            return {\n                ...state,\n                calendarEvents: action.payload,\n            };\n        default:\n            return state;\n    }\n}\n\nexport default reducers;","import {SET_ERRORS, CLEAR_ERRORS, LOADING_UI, STOP_LOADING_UI} from \"../types\";\n\nconst initalState = {\n    loading: false,\n    errors: null\n};\n\nconst uiReducers = function (state = initalState, action) {\n    switch (action.type) {\n        default:\n            return state;\n        case SET_ERRORS:\n            return {\n                ...state,\n                loading: false,\n                errors: action.payload\n            };\n        case CLEAR_ERRORS:\n            return {\n                ...state,\n                loading: false,\n                errors: null\n            };\n        case LOADING_UI:\n            return {\n                ...state,\n                loading: true\n            };\n        case STOP_LOADING_UI:\n            return {\n                ...state,\n                loading: false\n            };\n    }\n}\n\nexport default uiReducers;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport userReducer from './reducers/userReducers';\nimport dataReducer from './reducers/dataReducers';\nimport uiReducer from './reducers/uiReducers';\n\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst reducers = combineReducers({\n    user: userReducer,\n    data: dataReducer,\n    UI: uiReducer\n});\n\nconst store = createStore(reducers, initialState,\n    compose(\n        applyMiddleware(...middleware),\n        window.devToolsExtension && window.devToolsExtension()\n));\n\nexport default store;","import axios from \"axios\";\n\nexport const setAuthorizationHeader = (token) => {\n    axios.defaults.headers.common[\"Authentication\"] = `Bearer ${token}`;\n};","import {\n    CLEAR_ERRORS,\n    LOADING_UI,\n    LOADING_USER,\n    MARK_NOTIFCATIONS_READ,\n    SET_ERRORS,\n    SET_UNAUTHENTICATED,\n    SET_USER\n} from \"../types\";\nimport axios from \"axios\";\nimport firebase from \"firebase/app\";\nimport { setAuthorizationHeader } from \"../../util/auth\";\n\nexport const loginUser = (userData, history) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    firebase.auth().signInWithEmailAndPassword(userData.email, userData.password)\n        .then(res => res.user.getIdToken())\n        .then(idToken => {\n            setAuthorizationHeader(idToken);\n            dispatch(getUserData());\n            dispatch({ type: CLEAR_ERRORS });\n            history.push('/');\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        });\n};\n\nexport const getUserData = () => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.get('/user')\n        .then(res => {\n            dispatch({\n                type: SET_USER,\n                payload: res.data\n            })\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const signupUser = (newUserData, history) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    axios.post('/signup', newUserData)\n        .then(res => {\n            const data = res.data;\n            setAuthorizationHeader(data.token);\n            dispatch(getUserData());\n            dispatch({ type: CLEAR_ERRORS });\n            history.push('/');\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const logoutUser = () => (dispatch) => {\n    firebase.auth().signOut().then(() => {\n        dispatch({ type: SET_UNAUTHENTICATED })\n    })\n};\n\nexport const uploadImage = (formData) => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.post(\"/user/image\", formData)\n        .then(res => {\n            dispatch(getUserData())\n        })\n        .catch(err => console.log(err))\n};\n\nexport const editUserDetails = (userDetails) => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.post(\"/user\", userDetails)\n        .then(() => {\n            dispatch(getUserData());\n        })\n        .catch(err => console.log(err));\n};\n\nexport const markNotificationsRead = (notificationIds) => dispatch => {\n    axios.post(\"/notifications\", notificationIds)\n        .then(res => {\n            dispatch({\n                type: MARK_NOTIFCATIONS_READ\n            });\n        })\n        .catch(err => {\n            console.log(err);\n        })\n\n};","import React from 'react';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst MyButton = ({ children, onClick, tip, btnClassName, tipClassName }) => {\n    return (\n        <Tooltip title={tip} placement=\"top\" className={tipClassName}>\n            <IconButton onClick={onClick} className={btnClassName}>\n                {children}\n            </IconButton>\n        </Tooltip>\n\n    )\n}\n\nexport default MyButton;\n","import {\n    SET_ANNOUNCEMENTS,\n    LOADING_DATA,\n    LIKE_ANNOUNCEMENT,\n    UNLIKE_ANNOUNCEMENT,\n    DELETE_ANNOUNCEMENT,\n    CLEAR_ERRORS,\n    SET_ERRORS,\n    LOADING_UI,\n    POST_ANNOUNCEMENT,\n    SET_ANNOUNCEMENT,\n    STOP_LOADING_UI,\n    SUBMIT_COMMENT,\n    LOADING_USER,\n    APPEND_IMAGEURL_TO_ANNOUNCEMENT, SET_CALENDAR_EVENTS\n} from \"../types\";\nimport axios from 'axios';\nimport {transpose} from \"../../util/array_utils\";\nimport {csvToArray} from \"../../util/csv_utils\";\n\nconst CAL_SRC_POINTER_URL = \"https://docs.google.com/spreadsheets/d/e/2PACX-1vTXWnYUXX_mMxaN-ejalcrLUcKowe8L1geqjOT5WOLxcjwLyAzvNsgnwixPc0u3ycQfYPr9iRH6mJoB/pub?gid=0&single=true&output=csv\";\n\nexport const getAnnouncements = () => dispatch => {\n    dispatch({ type: LOADING_DATA });\n    axios.get(\"/announcements\")\n        .then(res => {\n            dispatch({\n                type: SET_ANNOUNCEMENTS,\n                payload: res.data.map(s => ({...s, announcementId: s.announcementId}))\n            })\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ANNOUNCEMENTS,\n                payload: []\n            })\n\n        })\n};\n\nexport const getAnnouncement = (announcementId) => dispatch => {\n    dispatch({ type: LOADING_UI });\n    axios.get(`/announcement/${announcementId}`)\n        .then(res => {\n            dispatch({\n                type: SET_ANNOUNCEMENT,\n                payload: {...res.data, announcementId: res.data.announcementId}\n            });\n            dispatch({\n                type: STOP_LOADING_UI\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n};\n\nexport const postAnnouncement = (newAnnouncement) => dispatch => {\n    dispatch({ type: LOADING_UI });\n    axios.post(\"/announcement\", newAnnouncement)\n        .then(res => {\n            dispatch({\n                type: POST_ANNOUNCEMENT,\n                payload: {...res.data, announcementId: res.data.announcementId}\n            });\n            dispatch(clearErrors())\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const updateAnnouncement = (announcementId, body) => dispatch => {\n    dispatch({ type: LOADING_UI });\n    axios.post(`/announcement/${announcementId}`, { body: body })\n        .then(() => {\n            dispatch(getAnnouncements());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const likeAnnouncement = (announcementId) => dispatch => {\n    axios.get(`/announcement/${announcementId}/like`)\n        .then(res => {\n            dispatch({\n                type: LIKE_ANNOUNCEMENT,\n                payload: {...res.data, announcementId: res.data.announcementId}\n            })\n        })\n        .catch(err => console.log(err))\n};\n\nexport const unlikeAnnouncement = (announcementId) => dispatch => {\n    axios.get(`/announcement/${announcementId}/unlike`)\n        .then(res => {\n            dispatch({\n                type: UNLIKE_ANNOUNCEMENT,\n                payload: {...res.data, announcementId: res.data.announcementId}\n            })\n        })\n        .catch(err => console.log(err))\n};\n\nexport const deleteAnnouncement = (announcementId) => dispatch => {\n    axios.delete(`/announcement/${announcementId}`)\n        .then(() => {\n            dispatch({\n                type: DELETE_ANNOUNCEMENT, payload: announcementId\n            })\n        })\n        .catch(err => console.log(err));\n};\n\nexport const archiveAnnouncement = (announcementId) => dispatch => {\n    axios.post(`/announcement/${announcementId}`, { isArchived: true })\n        .then(() => {\n            dispatch(getAnnouncements());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        });\n};\n\nexport const pinAnnouncement = (announcementId, pinToTop) => dispatch => {\n    axios.post(`/announcement/${announcementId}`, { pinToTop })\n        .then(() => {\n            dispatch(getAnnouncements());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        });\n};\n\nexport const submitComment = (announcementId, commentData) => dispatch => {\n    axios.post(`/announcement/${announcementId}/comment`, commentData)\n        .then(res => {\n            dispatch({\n                type: SUBMIT_COMMENT,\n                payload: res.data\n            });\n            dispatch(clearErrors());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const getUserData = (userHandle) => dispatch => {\n    dispatch({ type: LOADING_DATA });\n    axios.get(`/user/${userHandle}`)\n        .then((res) => {\n            dispatch({\n                type: SET_ANNOUNCEMENTS,\n                payload: res.data.announcements\n            })\n        })\n        .catch(() => {\n            dispatch({\n                type: SET_ANNOUNCEMENTS,\n                payload: null\n            });\n        });\n};\n\nexport const getCalendarData = (calSrc) => dispatch => {\n    const DATE_RE = /(\\d{2})\\/(\\d{2})\\/(\\d{4})/g;\n    axios.get(CAL_SRC_POINTER_URL, {headers: {}})\n        .then(rsp => {\n            const line = rsp.data.split(\"\\n\")[0];\n            const url = line.split(\",\")[1].trim()\n            return axios.get(url, {headers: {}})\n        })\n        .then(rsp => {\n            const text = rsp.data;\n            const eventsRaw = transpose(csvToArray(text)).flat()\n            const events = [];\n            eventsRaw.forEach((d, i) => {\n                if (d.match(DATE_RE)) {\n                    const m = DATE_RE.exec(d)\n                    const eventMo = parseInt(m[1]);\n                    const eventDa = parseInt(m[2]);\n                    const eventYr = parseInt(m[3]);\n                    let eventTitle = eventsRaw[i + 1];\n                    if (!!eventTitle) {\n                        let start = new Date(eventYr, eventMo - 1, eventDa);\n                        let end = new Date(eventYr, eventMo - 1, eventDa);\n                        if (eventTitle.includes(\"预查带领\")) {\n                            eventTitle = \"预查\\n\" + eventTitle\n                            start = new Date(eventYr, eventMo - 1, eventDa, 11, 15, 0);\n                            end = new Date(eventYr, eventMo - 1, eventDa, 12, 15, 0);\n                        } else if (eventTitle.includes(\"诗歌带领\")) {\n                            eventTitle = \"团契查经\\n\" + eventTitle\n                            start = new Date(eventYr, eventMo - 1, eventDa, 19, 20, 0);\n                            end = new Date(eventYr, eventMo - 1, eventDa, 21, 30, 0);\n                        }\n                        const event = {\n                            id: i,\n                            title: eventTitle,\n                            start: start,\n                            end: end,\n                        }\n                        events.push(event);\n                    }\n                }\n            })\n            dispatch({\n                type: SET_CALENDAR_EVENTS,\n                payload: events\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n}\n\nexport const clearErrors = () => dispatch => {\n    dispatch({ type: CLEAR_ERRORS })\n};\n\nexport const uploadImageForPost = (announcementId, formData) => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.post(`/announcement/${announcementId}/image`, formData)\n        .then(res => {\n            dispatch({\n                type: APPEND_IMAGEURL_TO_ANNOUNCEMENT,\n                payload: res.data.imageUrl\n            })\n        })\n        .catch(err => console.log(err))\n};\n","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport {clearErrors, postAnnouncement} from \"../../redux/actions/dataActions\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Icon\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport MyButton from \"../../util/MyButton\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    submitButton: {\n        margin: \"10px auto 10px auto\",\n        position: \"relative\",\n        float: \"right\"\n    },\n    progressSpinner: {\n        position: \"absolute\"\n    }\n});\n\nclass PostAnnouncement extends Component {\n    state = {\n        open: false,\n        body: \"\",\n        errors: {}\n    };\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({\n                errors: nextProps.UI.errors\n            })\n        }\n        if (!nextProps.UI.errors && !nextProps.UI.loading) {\n            this.setState({\n                body: \"\",\n                open: false\n            });\n        }\n    }\n\n    handleOpen = () => {\n        this.setState({open: true})\n    };\n\n    handleClose = () => {\n        this.props.clearErrors();\n        this.setState({\n            open: false,\n            errors: {}\n        })\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.postAnnouncement({body: this.state.body});\n    };\n\n    render() {\n        const { errors } = this.state;\n        const { classes, UI: { loading }} = this.props;\n\n        return (\n            <Fragment>\n                <MyButton\n                    onClick={this.handleOpen}\n                    tip=\"Post an Announcement!\">\n                    <AddIcon/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"md\">\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogTitle>\n                        Post a new announcement\n                    </DialogTitle>\n                    <DialogContent>\n                        <form onSubmit={this.handleSubmit}>\n                            <TextField\n                                name={\"body\"}\n                                type=\"text\"\n                                label=\"Content\"\n                                multiline\n                                placeholder=\"Announcement content with markdown\"\n                                error={!!errors.body}\n                                helperText={errors.body}\n                                className={classes.textField}\n                                onChange={this.handleChange}\n                                fullWidth\n                                rows=\"6\"\n                                rowsMax=\"12\"\n                            />\n                            <Button type=\"submit\" variant=\"contained\"\n                                    color=\"primary\"\n                                    className={classes.submitButton}\n                                    disabled={loading}>\n                                Submit\n                                {loading && (\n                                    <CircularProgress\n                                        size={30}\n                                        className={classes.progressSpinner}\n                                    />\n                                )}\n\n                            </Button>\n                        </form>\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nPostAnnouncement.propTypes = {\n    postAnnouncement: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { postAnnouncement, clearErrors })(withStyles(styles)(PostAnnouncement));\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Link } from \"react-router-dom\";\n\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\n// MUI\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Badge from '@material-ui/core/Badge';\nimport Typography from \"@material-ui/core/Typography\";\n\n// Icons\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { markNotificationsRead } from '../../redux/actions/userActions';\n\n\nclass Notifications extends Component {\n    state = {\n        anchorEl: null\n    };\n\n    handleOpen = (event) => {\n        this.setState({anchorEl: event.target});\n    };\n\n    handleClose = () => {\n        this.setState({anchorEl: null});\n    };\n\n    onMenuOpened = () => {\n        let unreadNotificationIds = this.props.notifications\n            .filter(n => !n.read)\n            .map(n => n.notificationId);\n\n        this.props.markNotificationsRead(unreadNotificationIds)\n    };\n    render() {\n        const notifications = this.props.notifications;\n        const anchorEl = this.state.anchorEl;\n        dayjs.extend(relativeTime);\n\n        let notificationIcon;\n\n        if (notifications && notifications.length > 0) {\n            let unreadCount = notifications.filter(n => n.read === false).length;\n            unreadCount > 0 ? (\n                notificationIcon = (\n                    <Badge\n                        badgeContent={unreadCount}\n                        color=\"secondary\"\n                    >\n                        <NotificationsIcon />\n                    </Badge>\n                )\n            ) : (\n                notificationIcon = <NotificationsIcon />\n            )\n        } else {\n            notificationIcon = <NotificationsIcon />\n        }\n\n        let notificationsMarkup = notifications && notifications.length > 0 ? (\n            notifications.map(n => {\n                const verb = n.type === \"like\" ? \"liked\" : \"commented on\";\n                const time = dayjs(n.createdAt).fromNow();\n                const iconColor = n.read ? \"primary\" : \"secondary\";\n                const icon = n.type === \"like\" ? (\n                    <FavoriteIcon color={iconColor} style={{marginRight: 10}}/>\n                ) : (\n                    <ChatIcon color={iconColor} style={{marginRight: 10}}/>\n                );\n\n                return (\n                    <MenuItem key={n.createdAt} onClick={this.handleClose}>\n                        {icon}\n                        <Typography\n                            component={Link}\n                            color=\"default\"\n                            variant=\"body1\"\n                            to={`/users/${n.recipient}/announcement/${n.announcementId}`}>\n                            {n.sender} {verb} your announcement {time}\n                        </Typography>\n                    </MenuItem>\n                )\n            })\n        ) : (\n            <MenuItem onClick={this.handleClose}>\n                You have no notifications yet\n            </MenuItem>\n        );\n\n        return (\n            <Fragment>\n                <Tooltip placement=\"top\" title=\"Notifications\">\n                    <IconButton aria-owns={anchorEl ? 'simple-menu' : undefined}\n                                aria-haspopup=\"true\"\n                                onClick={this.handleOpen}\n                                >\n                        {notificationIcon}\n                    </IconButton>\n                </Tooltip>\n                <Menu\n                    anchorEl={anchorEl}\n                    open={Boolean(anchorEl)}\n                    onClose={this.handleClose}\n                    onEntered={this.onMenuOpened}\n                >\n                    {notificationsMarkup}\n                </Menu>\n            </Fragment>\n        )\n    }\n}\n\nNotifications.propTypes = {\n    markNotificationsRead: PropTypes.func.isRequired,\n    notifications: PropTypes.array.isRequired,\n\n};\n\nconst mapStateToProps = state => ({\n    notifications: state.user.notifications\n});\n\nexport default connect(mapStateToProps, { markNotificationsRead })(Notifications);","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\n\n// MUI stuff\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { Link } from 'react-router-dom';\nimport PropTyes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport MyButton from \"../../util/MyButton\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport PostAnnouncement from \"../announcement/PostAnnouncement\";\nimport Notifications from \"./Notifications\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\n\nconst styles = {};\n\nclass Navbar extends Component {\n    render() {\n        const {\n            authenticated,\n            isAnnouncementProvider\n        } = this.props;\n\n        const calButton = (<Link to=\"/cal\">\n            <MyButton tip=\"Calendar\">\n                <CalendarTodayIcon/>\n            </MyButton>\n        </Link>)\n        return (\n            <AppBar>\n                <Toolbar className=\"nav-container\">\n                    {authenticated ? (\n                        <Fragment>\n                            { !!isAnnouncementProvider ? <PostAnnouncement /> : <div/>}\n                            <Link to=\"/\">\n                                <MyButton tip=\"Home\">\n                                    <HomeIcon/>\n                                </MyButton>\n                            </Link>\n                            <Notifications/>\n                            {calButton}\n                        </Fragment>\n                    ) : (\n                        <Fragment>\n                            <Link to=\"/login\">\n                                <MyButton tip=\"Account login\">\n                                    <AccountCircleIcon />\n                                </MyButton>\n                            </Link>\n                            <Link to=\"/\">\n                                <MyButton tip=\"Home\">\n                                    <HomeIcon/>\n                                </MyButton>\n                            </Link>\n                            {calButton}\n                        </Fragment>\n                    )}\n                </Toolbar>\n            </AppBar>\n        )\n    }\n}\n\nNavbar.propTypes = {\n    authenticated: PropTyes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    authenticated: state.user.authenticated,\n    isAnnouncementProvider: state.user.credentials.isAnnouncementProvider\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Navbar))","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\n\nconst AuthRoute = ({ component: Component, authenticated, ...rest }) => {\n    return (\n        <Route\n            {...rest}\n            render={(props) => authenticated === true ? <Redirect to='/'/> : <Component {...props}/>}\n        />\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps)(AuthRoute);","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Icon\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ImageIcon from '@material-ui/icons/Image';\n\nimport MyButton from \"../../util/MyButton\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\n// Redux\nimport {getAnnouncement, updateAnnouncement, clearErrors, uploadImageForPost} from \"../../redux/actions/dataActions\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    avatar: {\n        height: \"80%\",\n        width: \"80%\"\n    },\n    dialogContent: {\n        padding: 20\n    },\n    expandButton: {\n        float: \"right\"\n    },\n    spinnerDiv: {\n        textAlign: \"center\",\n        marginTo: 50,\n        marginBottom: 50\n    },\n    submitButton: {\n        margin: \"10px auto 10px auto\",\n        position: \"relative\",\n        float: \"right\"\n    },\n    toolButton: {\n        margin: \"10px auto 10px auto\",\n        position: \"relative\",\n        float: \"left\"\n    },\n});\n\nclass EditAnnouncement extends Component {\n    state = {\n        open: false,\n        oldPath: \"\",\n        newPath: \"\",\n        errors: {},\n        body: \"\"\n    };\n\n    constructor(props) {\n        super(props);\n        this.imageButtonRef = React.createRef();\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({\n                errors: nextProps.UI.errors\n            })\n        }\n        if (nextProps.announcement.body) {\n            this.setState({ body: nextProps.announcement.body })\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.openDialog) {\n            this.handleOpen();\n        }\n    }\n\n    handleOpen = () => {\n        let oldPath = window.location.pathname;\n        const { userHandle, announcementId } = this.props;\n        const newPath = `/users/${userHandle}/announcement/${announcementId}`;\n\n        if (oldPath === newPath) {\n            oldPath = `/users/${userHandle}`;\n        }\n        window.history.pushState(null, null, newPath);\n\n        this.setState({ open: true, oldPath, newPath });\n        this.props.getAnnouncement(this.props.announcementId);\n    };\n\n    handleClose = () => {\n        window.history.pushState(null, null, this.state.oldPath);\n        this.setState({ open: false });\n        this.props.clearErrors();\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.updateAnnouncement(this.props.announcementId, this.state.body);\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleImageChange = (event) => {\n        const image = event.target.files[0];\n        const formData = new FormData();\n        formData.append(\"image\", image, image.name);\n        this.props.uploadImageForPost(this.props.announcementId, formData);\n    };\n\n    handleEditPicture = () => {\n        this.imageButtonRef.current.click();\n    };\n\n    render() {\n        const {\n            classes,\n            UI: { loading }\n        } = this.props;\n\n        const { body, errors } = this.state;\n\n        const dialogMarkup = loading ? (\n            <div className={classes.spinnerDiv}>\n                <CircularProgress size={200}/>\n            </div>\n\n        ) : (\n            <form onSubmit={this.handleSubmit}>\n                <TextField\n                    name={\"body\"}\n                    type=\"text\"\n                    label=\"Content\"\n                    multiline\n                    placeholder=\"Announcement content with markdown\"\n                    error={!!errors.body}\n                    helperText={errors.body}\n                    className={classes.textField}\n                    onChange={this.handleChange}\n                    fullWidth\n                    value={body}\n                    rows=\"6\"\n                    rowsMax=\"12\"\n                />\n                <input\n                    type=\"file\"\n                    id=\"imageInput\"\n                    hidden=\"hidden\"\n                    onChange={this.handleImageChange}\n                    ref={this.imageButtonRef}\n                />\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.toolButton}\n                    disabled={loading}\n                    onClick={this.handleEditPicture}\n                >\n                    <ImageIcon />\n\n                </Button>\n\n                <Button type=\"submit\" variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submitButton}\n                        disabled={loading}>\n                    Submit\n                    {loading && (\n                        <CircularProgress\n                            size={30}\n                            className={classes.progressSpinner}\n                        />\n                    )}\n\n                </Button>\n            </form>\n        );\n        return (\n            <Fragment>\n                <MyButton onClick={this.handleOpen} tip=\"Edit announcement\" tipClassName={classes.expandButton}>\n                    <EditIcon color=\"primary\" />\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"md\">\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogContent className={classes.dialogContent}>\n                        {dialogMarkup}\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nEditAnnouncement.propTypes = {\n    getAnnouncement: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    announcementId: PropTypes.string.isRequired,\n    userHandle: PropTypes.string.isRequired,\n    announcement: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    announcement: state.data.announcement,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, {\n    getAnnouncement, updateAnnouncement, uploadImageForPost, clearErrors })(withStyles(styles)(EditAnnouncement));","import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\n\nimport { connect } from \"react-redux\";\nimport { deleteAnnouncement } from \"../../redux/actions/dataActions\";\nimport MyButton from \"../../util/MyButton\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\n\nconst styles = {\n\n};\n\nclass DeleteAnnouncement extends Component {\n    state = {\n        open: false\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true })\n    };\n\n    handleClose = () => {\n        this.setState({ open: false })\n    };\n\n    deleteAnnouncement = () => {\n        this.props.deleteAnnouncement(this.props.announcementId);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Delete Announcement\"\n                          onClick={this.handleOpen}\n                          btnClassName={classes.deleteButton}\n                >\n                    <DeleteOutline color=\"primary\"/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                    >\n                    <DialogTitle>\n                        Are you sure you want to delete this announcement?\n                    </DialogTitle>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.deleteAnnouncement} color=\"secondary\">\n                            Delete\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nDeleteAnnouncement.propTypes = {\n    deleteAnnouncement: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired\n};\n\nexport default connect(null, { deleteAnnouncement })(withStyles(styles)(DeleteAnnouncement));","import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\n\nimport { connect } from \"react-redux\";\nimport { archiveAnnouncement } from \"../../redux/actions/dataActions\";\nimport MyButton from \"../../util/MyButton\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport ArchiveOutline from '@material-ui/icons/ArchiveOutlined';\n\nconst styles = {\n\n};\n\nclass ArchiveAnnouncement extends Component {\n    state = {\n        open: false\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true })\n    };\n\n    handleClose = () => {\n        this.setState({ open: false })\n    };\n\n    archiveAnnouncement = () => {\n        this.props.archiveAnnouncement(this.props.announcementId);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Archive Announcement\"\n                          onClick={this.handleOpen}\n                          btnClassName={classes.archiveButton}\n                >\n                    <ArchiveOutline color=\"primary\"/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                    >\n                    <DialogTitle>\n                        Are you sure you want to archive this announcement?\n                    </DialogTitle>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.archiveAnnouncement} color=\"secondary\">\n                            Archive\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nArchiveAnnouncement.propTypes = {\n    archiveAnnouncement: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired\n};\n\nexport default connect(null, { archiveAnnouncement })(withStyles(styles)(ArchiveAnnouncement));","export function isListLine(s) {\n    return s.match(/^[0-9]+\\. /) || s.match(/^\\* /)\n}\n\nexport function markdownTextPreProcess(s) {\n    if (!s) {\n        return s;\n    }\n    let bodyFinal = \"\";\n    let prevLine = \"\";\n    s.split(\"\\n\").forEach(rawLine => {\n        const line = rawLine.trim();\n        if (!isListLine(prevLine) && isListLine(line)) {\n            bodyFinal += \"\\n\"\n        }\n        bodyFinal += line;\n        bodyFinal = bodyFinal.replace(/。/g, \" 。\");\n        bodyFinal = bodyFinal.replace(/）/g, \" ） \");\n        bodyFinal = bodyFinal.replace(/（/g, \" （ \");\n        bodyFinal += \"\\n\";\n        prevLine = line;\n    });\n\n    return bodyFinal;\n}","import ShareIcon from '@material-ui/icons/Share';\n\nimport React, {Component} from 'react';\nimport MyButton from \"../../util/MyButton\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles\n});\n\nclass ShareButton extends Component {\n    handleShare = () => {\n        const { announcementId, content } = this.props;\n\n        const shareData = {\n            title: 'H2 App',\n            text: content,\n            url: `${process.env.PUBLIC_URL}?announcementId=${announcementId}`\n        };\n\n        try {\n            navigator.share(shareData);\n            console.log(\"Shared successfully\")\n        } catch(err) {\n            console.log(\"Share failed\")\n        }\n    };\n\n    canShare = () => {\n        try {\n            return navigator.canShare;\n        } catch(err) {\n            return false;\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return this.canShare() ? (\n            <div>\n                <MyButton onClick={this.handleShare} tip=\"Share announcement\" tipClassName={classes.expandButton}>\n                    <ShareIcon color=\"primary\" />\n                </MyButton>\n            </div>) : null;\n    }\n}\n\nexport default withStyles(styles)(ShareButton);","import React, {Component, Fragment} from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\n// MUI\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n// Redux\nimport { connect } from \"react-redux\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    commentData: {\n        marginLeft: 20\n    }\n});\n\nclass Comments extends Component {\n    render() {\n        const { comments, classes } = this.props;\n\n        return (\n            <Grid container>\n                {comments && comments.map(({ body, createdAt, userImage, userHandle }, index) => {\n                    return (\n                        <Fragment key={createdAt}>\n                            <Grid item sm={12}>\n                                <Grid container>\n                                    <Grid item sm={1}>\n                                        <Avatar alt={userHandle} src={userImage} className={classes.avatar} />\n                                    </Grid>\n                                    <Grid item sm={9}>\n                                        <div className={classes.commentData}>\n                                            <Typography\n                                                component={Link}\n                                                to={`/users/${userHandle}`}\n                                                color=\"primary\"\n                                            >\n                                                {userHandle}\n                                            </Typography>\n\n                                            <Typography\n                                                variant=\"body2\"\n                                                color=\"textSecondary\"\n                                                >\n                                                {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\n                                            </Typography>\n                                            <hr className={classes.invisibleSeparator}/>\n                                            <Typography variant=\"body1\">\n                                                {body}\n                                            </Typography>\n                                        </div>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                            {index !== comments.length - 1 && (<hr className={classes.visibleSeparator}/>)}\n                        </Fragment>\n                    )\n                })}\n            </Grid>\n        )\n    }\n}\n\nComments.propTypes = {\n    comments: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    announcement: state.data.announcement,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Comments));","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\n// Icon\n\nimport { submitComment } from \"../../redux/actions/dataActions\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles\n});\n\n\nclass CommentForm extends Component {\n    state = {\n        body: \"\",\n        errors: {}\n    };\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors !== this.state.errors) {\n            this.setState({ errors: nextProps.UI.errors ? nextProps.UI.errors : {}})\n        }\n        if (!nextProps.UI.errors && !nextProps.UI.loading) {\n            this.setState({ body: \"\" })\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.submitComment(this.props.announcementId, {body: this.state.body})\n    };\n\n    render() {\n        const { classes, authenticated } = this.props;\n        const errors = this.state.errors;\n\n        const commentFormMarkup = authenticated ? (\n            <Grid item sm={12} style={{ textAlign: \"center\" }}>\n                <form onSubmit={this.handleSubmit}>\n                    <TextField\n                        name=\"body\"\n                        type=\"text\"\n                        label=\"Comment on announcement\"\n                        error={errors.error ? true : false}\n                        helperText={errors.error}\n                        value={this.state.body}\n                        onChange={this.handleChange}\n                        fullWidth\n                        className={classes.textField}\n                    />\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                        >\n                            Submit\n                        </Button>\n                </form>\n                <hr className={classes.visibleSeparator}/>\n            </Grid>\n        ) : null;\n        return commentFormMarkup;\n    }\n}\n\nCommentForm.propTypes = {\n    submitComment: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired,\n    UI: PropTypes.object.isRequired,\n    authenticated: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    UI: state.UI,\n    authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps, { submitComment })(withStyles(styles)(CommentForm));","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\n\n// MUI\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\n// Icon\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport MyButton from \"../../util/MyButton\";\nimport { getAnnouncement, clearErrors } from \"../../redux/actions/dataActions\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport Comments from \"./Comments\";\nimport ReactMarkdown from \"react-markdown\";\nimport CommentForm from \"./CommentForm\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Container from \"@material-ui/core/Container\";\nimport {markdownTextPreProcess} from \"../../util/markdown_utils\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    dialogContent: {\n        padding: 20\n    },\n    closeButton: {\n        position: \"absolute\",\n        right: \"0.6rem\",\n        top: \"0.6rem\"\n    },\n    spinnerDiv: {\n        textAlign: \"center\",\n        marginTo: 50,\n        marginBottom: 50\n    },\n    markdownContainer: {\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\"\n    },\n    avatar: {\n        width: \"4rem\",\n        height: \"4rem\"\n    }\n});\n\nclass AnnouncementDialog extends Component {\n    state = {\n        open: false\n    };\n\n    componentDidMount() {\n        if (this.props.openDialog) {\n            this.handleOpen();\n        }\n    }\n\n    handleOpen = () => {\n        this.setState({ open: true});\n        this.props.getAnnouncement(this.props.announcementId);\n    };\n\n    handleClose = () => {\n        window.history.pushState(null, null, this.state.oldPath);\n        this.setState({ open: false });\n        this.props.clearErrors();\n    };\n\n    render() {\n        const {\n            classes,\n            announcement : {\n                body,\n                createdAt,\n                userImage,\n                userHandle,\n                announcementId,\n                commentCount,\n                comments\n            },\n            UI: { loading }\n        } = this.props;\n\n        const dialogMarkup = loading ? (\n            <div className={classes.spinnerDiv}>\n                <CircularProgress size={200}/>\n            </div>\n\n        ) : (\n            <Grid container>\n                <Grid item sm={1} className={classes.avatarContainer}>\n                    <Avatar alt={userHandle} src={userImage} className={classes.avatar} />\n                </Grid>\n                <Grid item sm>\n                    <Typography\n                        component={Link}\n                        color=\"primary\"\n                        variant=\"h6\"\n                        to={`/users/${userHandle}`}\n                        >\n                        @{userHandle}\n                    </Typography>\n                    <hr className={classes.invisibleSeparator}/>\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                        {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\n                    </Typography>\n                </Grid>\n                <div className={classes.markdownContainer}>\n                    <hr className={classes.invisibleSeparator}/>\n                    <ReactMarkdown source={markdownTextPreProcess(body)}/>\n                </div>\n\n                <Container>\n                    <MyButton tip=\"comments\">\n                        <ChatIcon color=\"primary\"/>\n                    </MyButton>\n                    <span>{commentCount} comments</span>\n                </Container>\n                <hr className={classes.visibleSeparator} />\n                <CommentForm announcementId={announcementId}/>\n                <Comments comments={comments} />\n            </Grid>\n        );\n        return (\n            <Fragment>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"md\">\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogContent className={classes.dialogContent}>\n                        {dialogMarkup}\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nAnnouncementDialog.propTypes = {\n    getAnnouncement: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    announcementId: PropTypes.string.isRequired,\n    userHandle: PropTypes.string.isRequired,\n    announcement: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    announcement: state.data.announcement,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { getAnnouncement, clearErrors })(withStyles(styles)(AnnouncementDialog));","import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\";\nimport { pinAnnouncement } from \"../../redux/actions/dataActions\";\nimport MyButton from \"../../util/MyButton\";\nimport VerticalAlignTopIcon from '@material-ui/icons/VerticalAlignTop';\n\nconst styles = {\n\n};\n\nclass PinAnnouncement extends Component {\n    state = {\n        open: false\n    };\n\n    togglePinToTop = () => {\n        const { announcementId, pinToTop } = this.props;\n        this.props.pinAnnouncement(announcementId, !pinToTop);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Pin Announcement to Top\"\n                          onClick={this.togglePinToTop}\n                          btnClassName={classes.pinToTop}\n                >\n\n                        <VerticalAlignTopIcon color={this.props.pinToTop ? \"secondary\" : \"primary\"}/>\n                </MyButton>\n            </Fragment>\n        )\n    }\n}\n\nPinAnnouncement.propTypes = {\n    pinAnnouncement: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired\n};\n\nexport default connect(null, { pinAnnouncement })(withStyles(styles)(PinAnnouncement));","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport { Link } from \"react-router-dom\";\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport clsx from 'clsx';\nimport EditAnnouncement from \"./EditAnnouncement\";\nimport DeleteAnnouncement from \"./DeleteAnnouncement\";\n// Redux\nimport { connect } from \"react-redux\";\n// MUI\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Card from '@material-ui/core/Card';\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from \"@material-ui/core/Typography\";\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\n\n// Icons\nimport ArchiveAnnouncement from \"./ArchiveAnnouncement\";\nimport ReactMarkdown from \"react-markdown\";\nimport {markdownTextPreProcess} from \"../../util/markdown_utils\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport ShareButton from \"./ShareButton\";\nimport AnnouncementDialog from \"./AnnouncementDialog\";\nimport PinAnnouncement from \"./PinAnnouncement\";\n\nconst styles = (theme) => ({\n    card: {\n        marginBottom: 20,\n        position: \"relative\",\n    },\n    cardPinToTop: {\n        \"background-color\": \"cornsilk\"\n    },\n    image: {\n        minWidth: 200\n    },\n    content: {\n        padding: 25,\n        objectFit: \"cover\"\n    },\n    actions: {\n        display: \"block\"\n    },\n    markdownContainer: {\n        h2: {\n            fontSize: \"1em\"\n        },\n        '& img': {\n            width: \"100%\"\n        },\n        '& a': {\n            'white-space': \"pre-wrap\",\n            'word-wrap': 'break-word'\n        }\n    }\n});\n\nclass Announcement extends Component {\n    render() {\n        dayjs.extend(relativeTime);\n\n        const {\n            classes,\n            announcement: {\n                body,\n                createdAt,\n                userImage,\n                userHandle,\n                announcementId,\n                pinToTop\n            },\n            user: {\n                authenticated,\n                credentials: { handle }\n            },\n            openDialog\n        } = this.props;\n\n        const deleteButton = authenticated && userHandle === handle ? (\n            <DeleteAnnouncement announcementId={announcementId}/>\n        ) : null;\n        const editButton = authenticated && userHandle === handle ? (\n            <EditAnnouncement\n                announcementId={announcementId}\n                userHandle={userHandle}\n            />\n        ) : null;\n        const archiveButton = authenticated && userHandle === handle ? (\n            <ArchiveAnnouncement announcementId={announcementId} userHandle={userHandle} />\n        ) : null;\n        const pinButton = authenticated && userHandle === handle ? (\n            <PinAnnouncement announcementId={announcementId} pinToTop={pinToTop} />\n        ) : null;\n        const shareButton = <ShareButton announcementId={announcementId} content={body}/>;\n        const actionsMarkup = (\n            <ButtonGroup classes={classes.buttonGroup}>\n                {shareButton}\n                {editButton}\n                {pinButton}\n                {archiveButton}\n                {deleteButton}\n            </ButtonGroup>\n        );\n        const userLink = (<Typography\n            component={Link}\n            to={`/users/${userHandle}`}\n            color=\"primary\"\n        >\n            {userHandle}\n        </Typography>);\n\n        return (\n            <Card className={clsx(classes.card, {[classes.cardPinToTop]: pinToTop})}>\n                <CardHeader\n                    avatar={\n                        <Avatar\n                            alt={userHandle}\n                            className={classes.avatar}\n                            src={userImage}\n                        >\n                        </Avatar>\n                    }\n                    title={userLink}\n                    subheader={dayjs(createdAt).fromNow()}\n                />\n\n\n                    <CardContent className={classes.content}>\n                        <Typography\n                            id={\"content-\" + announcementId}\n                        >\n                            <ReactMarkdown\n                                source={markdownTextPreProcess(body)}\n                                className={classes.markdownContainer}\n                            />\n                        </Typography>\n                    </CardContent>\n\n                <CardActions className={classes.actions}>\n                    {actionsMarkup}\n                </CardActions>\n                <AnnouncementDialog announcementId={announcementId} openDialog={openDialog}/>\n            </Card>\n        )\n    }\n}\n\nAnnouncement.propTypes = {\n    user: PropTypes.object.isRequired,\n    announcement: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired,\n    openDialog: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    user: state.user\n});\nexport default connect(mapStateToProps)(withStyles(styles)(Announcement));","export default __webpack_public_path__ + \"static/media/no-img.c3f94521.png\";","import React, { Fragment } from 'react';\nimport NoImg from '../images/no-img.png';\nimport PropTypes from 'prop-types';\n\n// MUI\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\n\nimport withStyle from '@material-ui/core/styles/withStyles';\n\nconst styles = (theme) => ({\n    card: {\n        display: \"flex\",\n        marginBottom: 20\n    },\n    cardContent: {\n        width: \"100%\",\n        flexDirection: \"column\",\n        padding: 25\n    },\n    cover: {\n        minWidth: 200,\n        objectFit: \"cover\"\n    },\n    handle: {\n        width: 60,\n        height: 18,\n        backgroundColor: theme.palette.primary.main,\n        marginBottom: 7\n    },\n    date: {\n        height: 14,\n        width: 100,\n        backgroundColor: \"rgba(0,0,0,0.3)\",\n        marginBottom: 10\n    },\n    fullLine: {\n        height: 15,\n        width: \"90%\",\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        marginBottom: 10\n    },\n    halfLine: {\n        height: 15,\n        width: \"50%\",\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        marginBottom: 10\n    }\n\n});\n\nconst AnnouncementSkeleton = (props) => {\n    const { classes } = props;\n    const content = Array\n        .from({ length: 5})\n        .map((item, index) => (\n            <Card className={classes.card} key={index}>\n                <CardMedia className={classes.cover} image={NoImg}/>\n                <CardContent className={classes.cardContent}>\n                    <div className={classes.handle}/>\n                    <div className={classes.date}/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.halfLine}/>\n\n                </CardContent>\n            </Card>\n        ));\n    return (\n        <Fragment>\n            {content}\n        </Fragment>\n    );\n};\n\n\nAnnouncementSkeleton.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyle(styles)(AnnouncementSkeleton);","import React, { Component } from 'react'\nimport Announcement from '../components/announcement/Announcement';\nimport PropTypes from \"prop-types\";\n\nimport { connect } from \"react-redux\";\nimport { getAnnouncements } from \"../redux/actions/dataActions\";\nimport AnnouncementSkeleton from \"../util/AnnouncementSkeleton\";\nconst queryString = require('query-string');\n\nclass home extends Component {\n    state = {\n        announcementId: null\n    };\n\n    componentDidMount() {\n        this.props.getAnnouncements();\n        const queryParams = queryString.parse(this.props.location.search);\n        const announcementId = queryParams.announcementId;\n        if (announcementId) {\n            this.setState({ announcementId: announcementId})\n        }\n    }\n\n    render() {\n        const { announcementId } = this.state;\n        const { announcements, loading } = this.props.data;\n        return !loading ? (\n            announcements\n                .filter(ann => !ann.isArchived)\n                .map(ann => announcementId && ann.announcementId === announcementId ?\n                    (<Announcement key={ann.announcementId} announcement={ann} openDialog={true}/>) :\n                    (<Announcement key={ann.announcementId} announcement={ann}/>)\n                )\n        ) : <AnnouncementSkeleton />;\n    }\n}\n\nhome.propTypes = {\n    getAnnouncements: PropTypes.func.isRequired,\n    data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data\n});\n\nexport default connect(mapStateToProps, { getAnnouncements })(home)","export default \"data:image/png;base64,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lzY+obu44bU+KsMZr7aYjN+LS4OVaY/QF4tsZHw+WCB/zCTYKzZIvJcNP26AAVyoYDh4p6ekD9v5t+Ar+aAgnH5wYCYlpNG1zQfWjPk5n42kiIIojDyJzVngc6FlP1X/3v+EuXwV32mws6/cDqB+GTTEuOczmYAWF8DCxQ2963ChT4cGK5VThJnRUtPHuLUo33ZJNtFhoZwFjbQUFaqXgMHfDPOI6JG6wDR4XwMA2EyFbgpPe+En0teCD1uwBaBK2vkNH0C5zfMA2ZN68jzcqPTPA1xxmsiQgwqWlz/CXFFoosa9uKfwaw3GKDPPR3WXj1tjIArchJxhh2u9hf0eOlcCcEmU4iyjPCKqVDntQGYSwQWqIWodRIi9dO8jaK/fo17+fvhfnahwXYUPDYIvK/pfp3Btk/ajcWmwoKMn7OThbnapZZ/eGvfijkeyUX9m2Z1GIp06ntPBBPI2tIeRFUIZdI/MGG6o4I0ovKiQdww1IpeIB+7ooRvn/Rciw6fAb10D/2wrnPwZ4L9+Yxc2XodqCKpAxa1r/nyOWAEW1stw/ydygEJFFkOiNlJdobI8on47TDGMc11RBQEw5bAdU16l+w1RSz7Yd+64Q1vtRztaAtpqPba/GFH06T/FTUapsfVPNBy+m0LVxEW4feCGcQ4/qb8WF8AIQNQByjedLduTIhJOHCYyzLseTY4U/z3uOaCxwkNqCBxXgkwcL68Bkcr3mYCTj3qwZlRVNP8a/34K/w5698MD3yUCdczm2kmNolEmFxfAsC2Sa8FC0q0sgqNsOUF9Vt1EouSlgJ10YIL8mmPkwc21MjjeRYR5lJnbizvj1u9BN898bJFUi9YyXu+F/zUYiQv/G2ki1H25BnoyyOv/izli4TqZ1VPDMq/cACVGi0uahIAdaRQPOypv1+sv+2O1pT6Y7cS2NXxjD9pEOKDzg4MZWmogZdaPu0IB7WhpMPZX4bZ8/wzK4mLSYlSnChP5O+z38H5Vq3fQcIutYQfaNWPGhLZiqracKnn+WABWyQlP5nMBZNPRjvYk5tiKfbZ+AJ7LRYPsvZrWNG7tOJmv92TmFpeJPJm5nPGfgaOP0uXW1yTfmgslvR+NF0/9JYPrjF/QyXoBjrX3Bmrxn6zzE/MSEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBL4c5XA/wNmB/fimPXDpAAAAABJRU5ErkJggg==\"","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTyes from 'prop-types';\n// MUI stuff\nimport AppIcon from '../images/icon.png';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Link } from \"react-router-dom\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Redux stuff\nimport { connect } from 'react-redux';\nimport { loginUser } from \"../redux/actions/userActions\";\n\nconst styles = (theme) => {\n    return {\n        ...theme.rootStyles\n    };\n};\n\nclass login extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            errors: []\n        }\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({errors: nextProps.UI.errors});\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const userData = {\n            email: this.state.email,\n            password: this.state.password\n        };\n        this.props.loginUser(userData, this.props.history)\n    };\n\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    render() {\n        const { classes, UI: { loading } } = this.props;\n        const { errors } = this.state;\n\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                    <img src={AppIcon} alt=\"h2\" className={classes.image} />\n                    <Typography variant=\"h2\" className={classes.pageTitle}>\n                        Login\n                    </Typography>\n                    <form noValidate onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"email\"\n                            name=\"email\"\n                            label=\"Email\"\n                            className={classes.textField}\n                            helperText={errors.email}\n                            error={!!errors.email}\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"password\"\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            className={classes.textField}\n                            helperText={errors.password}\n                            error={!!errors.password}\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        {errors.general && (\n                            <Typography variant=\"body2\"\n                                        className={classes.customError}>\n                                {errors.general}\n                            </Typography>\n\n                        )}\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                            disabled={loading}\n                        >\n                            Login\n                            {loading && (\n                                <CircularProgress className={classes.progress} size={30}/>\n                            )}\n                        </Button>\n                        <br/>\n                        <small>don't have an account ? signup <Link to=\"/signup\">here</Link></small>\n                    </form>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        )\n    }\n}\n\nlogin.propTypes = {\n    classes: PropTyes.object.isRequired,\n    loginUser: PropTyes.func.isRequired,\n    // user: PropTyes.object.isRequired,\n    UI: PropTyes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    // user: state.user,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { loginUser })(withStyles(styles)(login))","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTyes from 'prop-types';\nimport AppIcon from '../images/icon.png';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Link } from \"react-router-dom\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n// Redux\nimport { connect } from 'react-redux';\nimport { signupUser } from \"../redux/actions/userActions\";\n\nconst styles = (theme) => {\n    return {\n        ...theme.rootStyles\n    };\n};\n\nclass signup extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            confirmPassword: \"\",\n            handle: \"\",\n            errors: []\n        }\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({ errors: nextProps.UI.errors });\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.setState({\n            loading: true\n        });\n\n        const newUserData = {\n            email: this.state.email,\n            password: this.state.password,\n            confirmPassword: this.state.confirmPassword,\n            handle: this.state.handle\n        };\n\n        this.props.signupUser(newUserData, this.props.history);\n    };\n\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    render() {\n        const { classes, UI: { loading } } = this.props;\n        const { errors } = this.state;\n\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                    <img src={AppIcon} alt=\"h2\" className={classes.image} />\n                    <Typography variant=\"h2\" className={classes.pageTitle}>\n                        Signup\n                    </Typography>\n                    <form noValidate onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"email\"\n                            name=\"email\"\n                            label=\"Email\"\n                            className={classes.textField}\n                            helperText={errors.email}\n                            error={!!errors.email}\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"password\"\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            className={classes.textField}\n                            helperText={errors.password}\n                            error={!!errors.password}\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"confirmPassword\"\n                            name=\"confirmPassword\"\n                            label=\"Confirm Password\"\n                            type=\"password\"\n                            className={classes.textField}\n                            helperText={errors.password}\n                            error={!!errors.confirmPassword}\n                            value={this.state.confirmPassword}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"handle\"\n                            name=\"handle\"\n                            label=\"Username\"\n                            type=\"text\"\n                            className={classes.textField}\n                            helperText={errors.handle}\n                            error={!!errors.handle}\n                            value={this.state.handle}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        {errors.general && (\n                            <Typography variant=\"body2\"\n                                        className={classes.customError}>\n                                {errors.general}\n                            </Typography>\n\n                        )}\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                            disabled={loading}\n                        >\n                            Login\n                            {loading && (\n                                <CircularProgress className={classes.progress} size={30}/>\n                            )}\n                        </Button>\n                        <br/>\n                        <small>Already have an account ? login <Link to=\"/login\">here</Link></small>\n                    </form>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        )\n    }\n}\n\nsignup.propTypes = {\n    classes: PropTyes.object.isRequired,\n    user: PropTyes.object.isRequired,\n    UI: PropTyes.object.isRequired,\n    logoutUser: PropTyes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    user: state.user,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { signupUser })(withStyles(styles)(signup));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport NoImg from '../images/no-img.png';\n// MUI\nimport Paper from '@material-ui/core/Paper';\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\n\nconst styles = theme => ({\n    ...theme.rootStyles,\n    handle: {\n        height: 20,\n        backgroundColor: theme.palette.primary.main,\n        width: 60,\n        margin: \"0 auto 7px auto\"\n    },\n    fullLine: {\n        height: 15,\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        width: \"100%\",\n        marginBottom: 10\n    },\n    halfLine: {\n        height: 15,\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        width: \"50%\",\n        marginBottom: 10\n    }\n});\n\nconst ProfileSkeleton = (props) => {\n    const { classes } = props;\n\n    return (\n        <Paper className={classes.paper}>\n            <div className={classes.profile}>\n                <div className=\"image-wrapper\">\n                    <img src={NoImg} alt={\"profile\"} className=\"profile-image\"/>\n                </div>\n                <hr/>\n                <div className=\"profile-details\">\n                    <div className={classes.handle}/>\n                    <hr/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.fullLine}/>\n                    <hr/>\n                    <LocationOn color=\"primary\"/><span>Location</span>\n                    <hr/>\n                    <LinkIcon color=\"primary\"/>https://website.com\n                    <hr/>\n                    <CalendarToday color=\"primary\"/>Join date\n                </div>\n            </div>\n        </Paper>\n    )\n\n};\n\nProfileSkeleton.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ProfileSkeleton);","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { editUserDetails } from \"../../redux/actions/userActions\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// Icon\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MyButton from \"../../util/MyButton\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    button: {\n        float: \"right\"\n    }\n});\n\nclass EditDetails extends Component {\n    state = {\n        bio: \"\",\n        website: \"\",\n        location: \"\",\n        open: false\n    };\n\n    componentDidMount() {\n        const { credentials } = this.props;\n        this.mapUserDetailsToState(credentials);\n    }\n\n    handleClose = () => {\n        this.setState({ open: false })\n    };\n\n    mapUserDetailsToState = (credentials) => {\n        this.setState({\n            bio: credentials.bio ? credentials.bio : \"\",\n            website: credentials.website ? credentials.website : \"\",\n            location: credentials.location ? credentials.location : \"\",\n        })\n    };\n\n    handleOpen = () => {\n        this.setState({open: true});\n        this.mapUserDetailsToState(this.props.credentials);\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleSubmit = () => {\n        const userDetails = {\n            bio: this.state.bio,\n            website: this.state.website,\n            location: this.state.location,\n        };\n        this.props.editUserDetails(userDetails);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Edit details\" onClick={this.handleOpen} btnClassName={classes.button}>\n                    <EditIcon color=\"primary\"/>\n                </MyButton>\n\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                >\n                    <DialogTitle>Edit your details</DialogTitle>\n                    <DialogContent>\n                        <form>\n                            <TextField\n                                name=\"bio\"\n                                type=\"text\"\n                                label=\"Bio\"\n                                multiline\n                                rows=\"3\"\n                                placeholder=\"A short bio of yourself\"\n                                className={classes.textField}\n                                value={this.state.bio}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                name=\"website\"\n                                type=\"text\"\n                                label=\"Website\"\n                                multiline\n                                placeholder=\"Your personal website\"\n                                className={classes.textField}\n                                value={this.state.website}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                name=\"location\"\n                                type=\"text\"\n                                label=\"Location\"\n                                multiline\n                                placeholder=\"Where you live\"\n                                className={classes.textField}\n                                value={this.state.location}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                        </form>\n\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.handleSubmit} color=\"primary\">\n                            Submit\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nEditDetails.propTypes = {\n    editUserDetails: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    credentials: state.user.credentials\n});\n\nexport default connect(mapStateToProps, { editUserDetails })(withStyles(styles)(EditDetails));","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\n\n// MUI\nimport Button from '@material-ui/core/Button';\nimport Paper from \"@material-ui/core/Paper\";\nimport MuiLink from '@material-ui/core/Link';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from '@material-ui/core/Typography';\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from \"@material-ui/icons/Edit\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { logoutUser, uploadImage } from \"../../redux/actions/userActions\";\nimport KeyboardReturn from \"@material-ui/icons/KeyboardReturn\";\nimport EditDetails from \"./EditDetails\";\nimport MyButton from \"../../util/MyButton\";\nimport ProfileSkeleton from \"../../util/ProfileSkeleton\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles\n});\n\nclass Profile extends Component {\n    constructor(props) {\n        super(props);\n        this.imageButtonRef = React.createRef();\n    }\n\n    handleImageChange = (event) => {\n        const image = event.target.files[0];\n        const formData = new FormData();\n        formData.append(\"image\", image, image.name);\n        this.props.uploadImage(formData);\n    };\n\n    handleEditPicture = () => {\n        this.imageButtonRef.current.click();\n    };\n\n    handleLogout = () => {\n        this.props.logoutUser()\n    };\n    render() {\n        const {\n            classes,\n            user: {\n                credentials: { handle, createdAt, imageUrl, bio, website, location },\n                loading,\n                authenticated\n            }\n        } = this.props;\n\n\n        return !loading ? (authenticated ? (\n            <Paper className={classes.paper}>\n                <div className={classes.profile}>\n                    <div className=\"image-wrapper\">\n                        <img src={imageUrl} alt=\"profile\" className=\"profile-image\"/>\n                        <input\n                            type=\"file\"\n                            id=\"imageInput\"\n                            hidden=\"hidden\"\n                            onChange={this.handleImageChange}\n                            ref={this.imageButtonRef}\n                        />\n                        <MyButton\n                            tip=\"Edit profile picture\"\n                            onClick={this.handleEditPicture}\n                            btnClassName=\"button\"\n                        >\n                            <EditIcon color=\"primary\"/>\n                        </MyButton>\n\n                    </div>\n                    <hr/>\n                    <div className=\"profile-details\">\n                        <MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\n                            @{handle}\n                        </MuiLink>\n                        {bio && <Typography variant=\"body2\">{bio}</Typography> }\n                        <hr />\n                        {location && (\n                            <Fragment>\n                                <LocationOn color=\"primary\"/>\n                                <span>{location}</span>\n                            </Fragment>\n\n                        )}\n                        <hr />\n                        {website && (\n                            <Fragment>\n                                <LinkIcon color=\"primary\" />\n                                <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n                                    {\"  \"}{website}\n                                </a>\n                            </Fragment>\n                        )}\n                        <hr />\n                        <CalendarToday color=\"primary\" />{\"  \"}\n                        <span>Joined {dayjs(createdAt).format(\"MMM YYYY\")}</span>\n                    </div>\n                </div>\n                <Tooltip title=\"Logout\" placement=\"top\">\n                    <MyButton\n                        tip=\"Logout\"\n                        onClick={this.handleLogout}\n                    >\n                        <KeyboardReturn color=\"primary\"/>\n                    </MyButton>\n\n                </Tooltip>\n\n                <EditDetails />\n            </Paper>\n        ) : (\n\n            <Paper className={classes.paper}>\n                <Typography variant=\"body2\" aligh=\"center\">\n                    No profile found, please login again\n                </Typography>\n                <div className={classes.buttons}>\n                    <Button variant=\"contained\" color=\"primary\" component={Link} to={\"/login\"}>\n                        Login\n                    </Button>\n                    <Button variant=\"contained\" color=\"secondary\" component={Link} to={\"/signup\"}>\n                        Signup\n                    </Button>\n                </div>\n            </Paper>\n        )) : (<ProfileSkeleton />);\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.user\n});\n\nProfile.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    uploadImage: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired\n};\nexport default connect(mapStateToProps, { logoutUser, uploadImage })(withStyles(styles)(Profile));","import React, { Component } from 'react'\nimport PropTyes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\n// Redux\nimport { connect } from 'react-redux';\nimport { getUserData } from \"../redux/actions/dataActions\";\nimport axios from \"axios\";\nimport Announcement from \"../components/announcement/Announcement\";\nimport AnnouncementSkeleton from \"../util/AnnouncementSkeleton\";\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\nimport Profile from \"../components/profile/Profile\";\n\nclass user extends Component {\n    state = {\n        profile: {},\n        announcementIdParam: null\n    };\n\n    componentDidMount() {\n        const handle = this.props.match.params.handle;\n        const announcementId = this.props.match.params.announcementId;\n\n        if (announcementId) {\n            this.setState({ announcementIdParam: announcementId})\n        }\n        this.props.getUserData(handle);\n        axios.get(`/user/${handle}`)\n            .then(res => {\n                this.setState({\n                    profile: res.data.user\n                })\n            })\n            .catch(err => console.log(err))\n    }\n\n    render() {\n        const { announcements, loading } = this.props.data;\n        const { announcementIdParam } = this.state;\n\n        const announcementsMarkup = loading ? (\n            <AnnouncementSkeleton />\n            ) : announcements === null ? (\n                <p>No announcements from this user</p>\n            ) : !announcementIdParam ? (\n                announcements.map(ann => <Announcement key={ann.announcementId} announcement={ann} />)\n            ) : (\n                announcements.map(ann => {\n                    if (ann.announcementId !== announcementIdParam) {\n                        return <Announcement key={ann.announcementId} announcement={ann} />;\n                    } else {\n                        return <Announcement key={ann.announcementId} announcement={ann} openDialog={true} />;\n                    }\n\n                })\n            );\n        return (\n            <Grid container spacing={10}>\n                <Grid item sm={8} xs={12}>\n                    {announcementsMarkup}\n                </Grid>\n                <Grid item sm={4} xs={12}>\n                    {!this.state.profile ? (\n                        <ProfileSkeleton />\n                    ) : (\n                        <Profile />\n                    )}\n                </Grid>\n            </Grid>\n        )\n    }\n}\n\nuser.propTypes = {\n    data: PropTyes.object.isRequired,\n    getUserData: PropTyes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { getUserData })(user);","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\n// Redux\nimport { connect } from \"react-redux\";\n\nimport { Calendar as RBCalendar, Views, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport {getCalendarData} from \"../../redux/actions/dataActions\";\n\nconst now = new Date()\n\nconst localizer = momentLocalizer(moment)\nconst styles = () => ({\n    container: {\n    },\n    eventContent: {\n        'white-space': 'pre-wrap'\n    },\n    eventWrapper: {\n    },\n    eventWrapperNoLabel: {\n        '& .rbc-event-label': {\n            display: \"none\"\n        }\n    }\n});\n\nclass Calendar extends Component {\n    state = {\n        view: Views.WEEK,\n        events: []\n    };\n\n    constructor(props) {\n        super(props);\n        this.view = this.getView(this.props.view)\n    }\n\n    componentDidMount() {\n        this.props.getCalendarData()\n    }\n\n    getView(view) {\n        if (view === \"month\") {\n            return Views.MONTH;\n        }\n        if (view === \"week\") {\n            return Views.WEEK;\n        }\n        if (view === \"day\") {\n            return Views.DAY;\n        }\n        if (view === \"agenda\") {\n            return Views.AGENDA\n        }\n        return Views.WEEK;\n    }\n\n    render() {\n        const { classes, calendarEvents } = this.props;\n        let allViews = [Views.MONTH, Views.WEEK, Views.DAY, Views.AGENDA]\n\n        const titleAccessor = (event) => {\n            if (this.state.view === Views.MONTH) {\n                const titleLines = event.title.split(\"\\n\")\n                return (\n                    <div className={classes.eventContent}>\n                        {titleLines[0]}\n                    </div>\n                );\n            }\n            return (\n                <div className={classes.eventContent}>\n                    {event.title}\n                </div>\n            );\n        };\n\n        const eventWrapper = eventWrapperProps => {\n            const eventTimeMin = Math.floor( (eventWrapperProps.event.end - eventWrapperProps.event.start) / (1000*60))\n            return (\n                <div className={eventTimeMin < 60 ? classes.eventWrapperNoLabel : classes.eventWrapper}>\n                    {eventWrapperProps.children}\n                </div>\n            )\n        };\n\n        return <>\n            <div className={classes.container}>\n                <RBCalendar\n                    events={calendarEvents ? calendarEvents : []}\n                    view={this.state.view}\n                    views={allViews}\n                    step={60}\n                    defaultDate={now}\n                    components={{\n                        eventWrapper: eventWrapper\n                    }}\n                    localizer={localizer}\n                    style={{ height: 1000 }}\n                    titleAccessor={titleAccessor}\n                    onView={(view) => {\n                        this.setState({view: view})\n                    }}\n                    min={moment('6:00am', 'h:mma').toDate()}\n                />\n            </div>\n        </>\n    }\n}\n\nCalendar.propTypes = {\n    classes: PropTypes.object.isRequired,\n    openDialog: PropTypes.bool,\n    view: PropTypes.string,\n    getCalendarData: PropTypes.func.isRequired,\n    calendarEvents: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n    calendarEvents: state.data.calendarEvents\n});\n\nexport default connect(mapStateToProps, {getCalendarData})(withStyles(styles)(Calendar));","export const transpose = m => m[0].map((x,i) => m.map(x => x[i]))\n","export function csvToArray(text) {\n    let p = '', row = [''], ret = [row], i = 0, r = 0, s = !0, l;\n    for (l of text) {\n        if ('\"' === l) {\n            if (s && l === p) row[i] += l;\n            s = !s;\n        } else if (',' === l && s) l = row[++i] = '';\n        else if ('\\n' === l && s) {\n            if ('\\r' === p) row[i] = row[i].slice(0, -1);\n            row = ret[++r] = [l = '']; i = 0;\n        } else row[i] += l;\n        p = l;\n    }\n    return ret;\n}","import React, { Component } from 'react'\nimport PropTypes from \"prop-types\";\n\nimport { connect } from \"react-redux\";\nimport { getAnnouncements } from \"../redux/actions/dataActions\";\n\nimport Calendar from '../components/calendar/Calendar';\n\nclass calendar extends Component {\n    state = {\n        view: null\n    };\n\n    constructor(props) {\n        super(props);\n        const {location} = props;\n        location.search.substring(1).split(\"&\").forEach(v => {\n            const [key, val] = v.split(\"=\");\n            if (key === \"calView\") {\n                this.state.view = val;\n            }\n        })\n    }\n    render() {\n        return <>\n            <Calendar view={this.state.view}/>\n        </>\n    }\n}\n\ncalendar.propTypes = {\n    getAnnouncements: PropTypes.func.isRequired,\n    data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data\n});\n\nexport default connect(mapStateToProps, { getAnnouncements })(calendar)","import React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\nimport themeFile from './util/theme';\nimport axios from 'axios';\n\n// Redux\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { getUserData } from \"./redux/actions/userActions\";\n\n// Components\nimport Navbar from './components/layout/Navbar';\nimport AuthRoute from './util/AuthRoute';\n\n// Pages\nimport home from './pages/home';\nimport login from './pages/login';\nimport signup from './pages/signup';\nimport user from './pages/user';\nimport calendar from \"./pages/calendar\";\n// This import loads the firebase namespace along with all its type information.\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport { setAuthorizationHeader } from \"./util/auth\";\n\nconst theme = createMuiTheme(themeFile);\n\n// // Initialize Firebase\nfirebase.initializeApp({apiKey: \"AIzaSyCCx9TDJtVzEaPym1OyU5KSuWgwslGDzEY\"});\n\nfirebase.auth().onAuthStateChanged(usr => {\n    if (usr) {\n        usr.getIdToken().then(token => {\n            setAuthorizationHeader(token);\n            store.dispatch(getUserData());\n        })\n    }\n});\n\naxios.defaults.baseURL = \"https://us-central1-h2-app.cloudfunctions.net/api\";\n// axios.defaults.baseURL = \"http://localhost:5000/h2-app/us-central1/api\";\n\nfunction App() {\n  return (\n      <MuiThemeProvider theme={theme}>\n          <Provider store={store}>\n              <Router basename={process.env.PUBLIC_URL}>\n                  <Navbar/>\n                  <div className=\"container\">\n                      <Switch>\n                          <Route exact path=\"/\" component={home} />\n                          <AuthRoute exact path=\"/login\" component={login}/>\n                          <AuthRoute exact path=\"/signup\" component={signup}/>\n                          <Route exact path=\"/users/:handle\" component={user}/>\n                          <Route exact path=\"/users/:handle/announcement/:announcementId\" component={user}/>\n                          <Route exact path=\"/cal\" component={calendar} />\n                      </Switch>\n                  </div>\n              </Router>\n          </Provider>\n      </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}